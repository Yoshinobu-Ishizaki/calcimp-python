zmensurについて
===


通常のmensur形式を拡張したもので、変数の定義、音孔(唾抜き含む)の指定、
バルブ分岐の指定が出来る
また、コメント行をいたるところに入れることが出来る
calcimpとcalcspdがこの形式を使って計算する。

以下はサンプルである。

```
zmensur sample % 1行目はファイルコメントとして扱われる
% 各行で%以降行末まではコメントとして無視される
sl1=20,
sl2=15,
%このように1行1変数で定義が出来る
10,10,10,zmen test%従来のmensur形式同様df,db,r,commentを指定
10,12,15,taper
+add3,1
%+で始まる行は後で定義される部分メンズールを追加として挿入する
%但し2列目の値が挿入分の考慮値でこれが0だと実際には挿入
%していないことになる。
%2列目の値を0-1の間にすると挿入分を枝として持つ複メンズールとなる。
15,15,20,
-th1,0.8
%-で始まるのは後で定義される部分メンズールを音孔として計算時に考慮する。
%2列目が1なら完全に開いた音孔、0なら塞がった音孔で、0-1の間なら
%中途半端に開いた音孔となる
>valve1,1
15,15,20,
<valve,1
%>,<で始まるのは、後で定義される部分メンズールをその位置に繋ぐ。
%バルブによる迂回指定を行うときに使えるはず。
%2列目が0-1の間のときはハーフバルブに対応する。
%>で始まるところが迂回の先頭で、
%<の位置に迂回の終端を繋ぐと解釈する。
15,15,30,
15,0,0,
%2列目,3列目が0ならメンズールの終わりを示す
%終端を閉じた状態にしたければ0,0,0,とすれば良い。

$add3
% $で始まる行はバルブもしくは音孔の部分メンズールを$以降の名前で定義する
15,15,200,
15,0,0,
%各部分メンズールの終わりは本体の終わりと同じように指定する。
%ここでの終端条件指定は余り意味はないが分岐の終わりを示すために必要
$th1
4,4,8,
4,0,0,
%音孔の場合の終端条件は、-行で読込んだときの比率をここでの直径に
%掛けたものが使われる。本例では0.8x4=3.2が正味の終端直径として
%計算されることになる
$valve1
15,15,100,
15,15,20,
15,15,100,
15,0,0
%迂回部分のメンズール指定。

%end

```